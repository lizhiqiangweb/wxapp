(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"0653":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},4329:function(t,e,i){"use strict";i.r(e);var n=i("a7a7"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);e["default"]=a.a},7194:function(t,e,i){"use strict";i.r(e);var n=i("0653"),a=i("4329");for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);i("f047");var l=i("2877"),c=Object(l["a"])(a["default"],n["a"],n["b"],!1,null,"522d2e1a",null);e["default"]=c.exports},a7a7:function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("0acf");var a=function(){return Promise.all([i.e("common/vendor"),i.e("components/mescroll-uni/mescroll-uni")]).then(i.bind(null,"b5ca"))},o={components:{MescrollUni:a},data:function(){return{village_1:"".concat(this.$env.img1,"village_1.png"),village_2:"".concat(this.$env.img1,"village_2.png"),village_3:"".concat(this.$env.img1,"village_3.png"),village_font2:"".concat(this.$env.img1,"village_font2.png"),village_font1:"".concat(this.$env.img1,"village_font1.png"),villager:"".concat(this.$env.img1,"village_banner@2x.png"),village_con_02:"".concat(this.$env.img1,"village_con_02@2x.png"),ivillage_message:"".concat(this.$env.img1,"ivillage_message@2x.png"),village_icon_04:"".concat(this.$env.img1,"village_icon_04@2x.png"),isVillager:!0,isRanking:!0,longitude:0,latitude:0,cuIcon:[{name:"appreciate",isShow:!0},{name:"check",isShow:!0}],list:[{img:"".concat(this.$env.img1,"icon_01@2x.png"),font:"村景"},{img:"".concat(this.$env.img1,"icon_01@2x.png"),font:"特色风采"},{img:"".concat(this.$env.img1,"icon_01@2x.png"),font:"聊天室"}],bannerPic:"",indexInfo:{},beautyInfo:[],page_info:{page_count:0,page_no:0,page_size:10,total_size:0},mescroll:null}},onShow:function(){this.userInfo=t.getStorageSync("userInfo"),this.$api.Key=this.userInfo.key,this.getLocation(),this.upCallback()},methods:{pagesClick:function(e){var i="https://m.ncweilv.com/h5/find/article.html?ids="+e;t.navigateTo({url:"../h5/h5?url="+i})},voteList:function(){t.navigateTo({url:"../voteList/voteList"})},villageClick:function(e){t.navigateTo({url:"../details/details?villageId="+e})},scroll:function(t){console.log(n(t," at pages/index/index.vue:237")),this.old.scrollTop=t.detail.scrollTop},search:function(){t.navigateTo({url:"../serch/serch"})},listClick:function(e){74==e?t.navigateTo({url:"../feature/feature?villageId="+this.indexInfo.village_id}):77==e?t.switchTab({url:"../chat/chatLine/chatLine"}):78==e&&t.switchTab({url:"../chat/chatList/chatList"})},voteClick:function(e){t.navigateTo({url:"../details/details?villageId="+e+"&longitude="+this.longitude+"&latitude="+this.latitude})},detailsClick:function(){t.navigateTo({url:"../details/details?villageId="+this.indexInfo.village_id+"&longitude="+this.longitude+"&latitude="+this.latitude})},getLocation:function(e){var i=this;t.getLocation({type:"gcj02",success:function(e){i.latitude=e.latitude,i.longitude=e.longitude,t.setStorageSync("getLatitude",i.latitude),t.setStorageSync("getLongitude",i.longitude),i.$request.httpTokenRequest(i.$api.currentCity,i.$api.get,{latitude:i.latitude,longitude:i.longitude,Key:i.$api.Key,Client:i.$api.CLIENT,Version:i.$api.VERSION,searchType:1}).then(function(t){200===t.data.flag&&i.getIndex(i.latitude,i.longitude,t.data.data.area_id)})}})},getIndex:function(e,i,n){var a=this;a.$request.httpTokenRequest(a.$api.getSmallProceduresIndex,a.$api.get,{latitude:e,longitude:a.longitude,areaId:n,Key:a.$api.Key,Client:a.$api.CLIENT,Version:a.$api.VERSION}).then(function(e){200===e.data.flag?(a.bannerPic=e.data.data.top_img_url,a.indexInfo=e.data.data):t.showToast({title:e.data.msg,icon:"none"})})},vote:function(e){var i=this;console.log(n(i.latitude,e," at pages/index/index.vue:325")),i.$request.httpTokenRequest(i.$api.addVillageVoteNum,i.$api.get,{latitude:i.latitude,longitude:i.longitude,areaId:e,Key:i.$api.Key,Client:i.$api.CLIENT,Version:i.$api.VERSION}).then(function(e){console.log(n(e," at pages/index/index.vue:334")),200===e.data.flag?(t.showToast({title:e.data.data,icon:"none"}),i.getLocation()):t.showToast({title:e.data.msg,icon:"none"})})},mescrollInit:function(t){this.mescroll=t},downCallback:function(t){this.page_info.page_no=0,this.beautyInfo=[],this.upCallback(this.mescroll)},upCallback:function(t){var e=this;this.$request.httpTokenRequest(this.$api.getInformation,this.$api.get,{pageIndex:e.page_info.page_no+1,pageSize:e.page_info.page_size,Key:e.$api.Key,Client:e.$api.CLIENT,Version:e.$api.VERSION}).then(function(i){if(200===i.data.flag){for(var n=0;n<i.data.data.data_list.length;n++)e.beautyInfo.push(i.data.data.data_list[n]);e.page_info=i.data.data.page_info,t&&t.endBySize(i.data.data.data_list.length,e.page_info.total_size,null)}else t&&t.endErr()})}}};e.default=o}).call(this,i("6e42")["default"],i("0de9")["default"])},b1e3:function(t,e,i){"use strict";(function(t){i("fbf9"),i("921b");n(i("66fd"));var e=n(i("7194"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("6e42")["createPage"])},f047:function(t,e,i){"use strict";var n=i("fd8c"),a=i.n(n);a.a},fd8c:function(t,e,i){}},[["b1e3","common/runtime","common/vendor"]]]);