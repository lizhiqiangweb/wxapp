(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/villageSet/villageVideo/villageVideo"],{"1de7":function(e,a,t){"use strict";var i=function(){var e=this,a=e.$createElement;e._self._c},n=[];t.d(a,"a",function(){return i}),t.d(a,"b",function(){return n})},"5f42":function(e,a,t){"use strict";t.r(a);var i=t("1de7"),n=t("df5b");for(var o in n)"default"!==o&&function(e){t.d(a,e,function(){return n[e]})}(o);t("c64a");var l=t("2877"),c=Object(l["a"])(n["default"],i["a"],i["b"],!1,null,"081370ef",null);a["default"]=c.exports},"61db":function(e,a,t){"use strict";(function(e,i){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("0acf");var n={data:function(){return{imgList:[],TabCur:0,src:"",picUrl:"",villager_video:"".concat(this.$env.img1,"villager_video@2x.png"),info:{}}},methods:{videoErrorCallback:function(a){e.showModal({content:a.target.errMsg,showCancel:!1})},videoAdd:function(){var a=this;e.chooseVideo({count:1,sourceType:["camera","album"],success:function(t){console.log(i(t," at pages/villageSet/villageVideo/villageVideo.vue:58")),a.info=t,a.upload(a.info.thumbTempFilePath),e.showLoading(),e.uploadFile({url:a.$env.phpUrl+a.$api.UploadImage,filePath:t.tempFilePath,name:"file[]",formData:{Type:"video",Key:a.$api.Key,Client:a.$api.CLIENT,Version:a.$api.VERSION},success:function(t){var n=JSON.parse(t.data);console.log(i(n.data[0]," at pages/villageSet/villageVideo/villageVideo.vue:75"));var o="";o=n.data[0],a.imgList.push(o),e.hideLoading()}})}})},upload:function(a){var t=this;e.uploadFile({url:t.$env.baseUrl+t.$api.fileUpload+"?type=grouptour",filePath:a,name:"file",success:function(e){var a=JSON.parse(e.data);t.picUrl=a.data[0]}})},DelImg:function(a){var t=this;e.showModal({content:"确定要删除这个视频吗？",cancelText:"再看看",confirmText:"再见",success:function(e){e.confirm&&t.imgList.splice(a.currentTarget.dataset.index,1)}})},videoBtm:function(){var a=this;a.$request.httpTokenRequest(a.$api.villageEdit,a.$api.post,{Key:a.$api.Key,Client:a.$api.CLIENT,Version:a.$api.VERSION,villageId:a.villageId,videoUrl:a.src}).then(function(a){200===a.data.flag?(e.showToast({title:a.data.data,icon:"none"}),e.navigateBack()):e.showToast({title:a.data.data,icon:"none"})})}},onLoad:function(a){this.userInfo=e.getStorageSync("userInfo"),this.$api.Key=this.userInfo.key,this.villageId=a.villageId}};a.default=n}).call(this,t("6e42")["default"],t("0de9")["default"])},"7cb9":function(e,a,t){"use strict";(function(e){t("fbf9"),t("921b");i(t("66fd"));var a=i(t("5f42"));function i(e){return e&&e.__esModule?e:{default:e}}e(a.default)}).call(this,t("6e42")["createPage"])},8554:function(e,a,t){},c64a:function(e,a,t){"use strict";var i=t("8554"),n=t.n(i);n.a},df5b:function(e,a,t){"use strict";t.r(a);var i=t("61db"),n=t.n(i);for(var o in i)"default"!==o&&function(e){t.d(a,e,function(){return i[e]})}(o);a["default"]=n.a}},[["7cb9","common/runtime","common/vendor"]]]);