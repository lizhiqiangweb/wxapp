(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/uploadVideo/uploadVideo"],{"10d4":function(e,a,t){"use strict";var o=t("baa9"),i=t.n(o);i.a},b0d6:function(e,a,t){"use strict";(function(e,o){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("0acf");var i={data:function(){return{imgList:[],modalName:null,textareaAValue:"",TabCur:0,labelInfo:[],src:"",nav:[{name:"乡村美食"},{name:"民俗文化"},{name:"古建筑"},{name:"人物传记"}],pic:[{name:"相册",id:"1"},{name:"拍摄",id:"2"}]}},methods:{labelInit:function(){var a=this;a.$request.httpTokenRequest(a.$api.getLabels,a.$api.get,{Key:a.$api.Key,Client:a.$api.CLIENT,Version:a.$api.VERSION,labelType:5}).then(function(t){200===t.data.flag?(a.labelInfo=t.data.data,console.log(e(a.labelInfo," at pages/uploadVideo/uploadVideo.vue:100")),a.TabCur=a.labelInfo[0].label_id):o.showToast({title:t.data.msg,icon:"none"})})},videoErrorCallback:function(e){o.showModal({content:e.target.errMsg,showCancel:!1})},showModal:function(e){this.modalName=e.currentTarget.dataset.target},hideModal:function(e){this.modalName=null},RadioChange:function(e){this.radio=e.detail.value},selectPic:function(a){var t=this;if(1==a)this.hideModal(),o.chooseVideo({sourceType:["album"],success:function(a){console.log(e(a," at pages/uploadVideo/uploadVideo.vue:133")),console.log(e(a.tempFilePath," at pages/uploadVideo/uploadVideo.vue:134")),0!=t.imgList.length?(t.imgList=t.imgList.concat(a.tempFilePath),t.uploadVideo(a.tempFilePath)):t.uploadVideo(a.tempFilePath)}});else if(2==a){var i=this;this.hideModal(),o.chooseVideo({sourceType:["camera"],success:function(a){o.showLoading();var t=a.tempFilePath;o.saveFile({tempFilePath:t,success:function(a){var t=a.savedFilePath;console.log(e(t," at pages/uploadVideo/uploadVideo.vue:159")),i.imgList.length,i.imgList.push(t),i.uploadVideo(i.imgList[0])}})}})}},uploadVideo:function(a){var t=this;o.uploadFile({url:t.$env.baseUrl+t.$api.fileUpload+"?type=video",filePath:a,name:"file",success:function(a){var t;console.log(e(a.data," at pages/uploadVideo/uploadVideo.vue:197")),t=a.data,console.log(e(t," at pages/uploadVideo/uploadVideo.vue:200")),o.hideLoading()}})},videoAdd:function(){var a=this;o.chooseVideo({count:1,sourceType:["camera","album"],success:function(t){console.log(e(t," at pages/uploadVideo/uploadVideo.vue:211")),o.showLoading(),o.uploadFile({url:a.$env.baseUrl+a.$api.fileUpload+"?type=video",filePath:t.tempFilePath,name:"file",success:function(e){var t="";t=e.data,a.imgList.push(t),o.hideLoading()}})}})},ViewImage:function(e){o.previewImage({urls:this.imgList,current:e.currentTarget.dataset.url})},DelImg:function(e){var a=this;o.showModal({content:"确定要删除这张照片吗？",cancelText:"再看看",confirmText:"再见",success:function(t){t.confirm&&a.imgList.splice(e.currentTarget.dataset.index,1)}})},textareaAInput:function(e){this.textareaAValue=e.detail.value},tabSelect:function(e){this.TabCur=e}},onLoad:function(e){this.userInfo=o.getStorageSync("userInfo"),this.$api.Key=this.userInfo.key,this.villageId=e.villageId,this.labelInit()}};a.default=i}).call(this,t("0de9")["default"],t("6e42")["default"])},baa9:function(e,a,t){},e114:function(e,a,t){"use strict";(function(e){t("fbf9"),t("921b");o(t("66fd"));var a=o(t("e4fe"));function o(e){return e&&e.__esModule?e:{default:e}}e(a.default)}).call(this,t("6e42")["createPage"])},e2ae:function(e,a,t){"use strict";t.r(a);var o=t("b0d6"),i=t.n(o);for(var n in o)"default"!==n&&function(e){t.d(a,e,function(){return o[e]})}(n);a["default"]=i.a},e4fe:function(e,a,t){"use strict";t.r(a);var o=t("f429"),i=t("e2ae");for(var n in i)"default"!==n&&function(e){t.d(a,e,function(){return i[e]})}(n);t("10d4");var l=t("2877"),u=Object(l["a"])(i["default"],o["a"],o["b"],!1,null,"576b9d04",null);a["default"]=u.exports},f429:function(e,a,t){"use strict";var o=function(){var e=this,a=e.$createElement;e._self._c},i=[];t.d(a,"a",function(){return o}),t.d(a,"b",function(){return i})}},[["e114","common/runtime","common/vendor"]]]);