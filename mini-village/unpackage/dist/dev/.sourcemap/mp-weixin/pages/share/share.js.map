{"version":3,"sources":["webpack:///D:/Git/wxapp/mini-village/main.js","webpack:///D:/Git/wxapp/mini-village/pages/share/share.vue?3c55","webpack:///D:/Git/wxapp/mini-village/pages/share/share.vue?1c33","webpack:///D:/Git/wxapp/mini-village/pages/share/share.vue?54b6","webpack:///D:/Git/wxapp/mini-village/pages/share/share.vue?252f","webpack:///D:/Git/wxapp/mini-village/pages/share/share.vue","webpack:///D:/Git/wxapp/mini-village/pages/share/share.vue?527e","webpack:///D:/Git/wxapp/mini-village/pages/share/share.vue?0109"],"names":["createPage","Page","data","logo","$env","img1","title","shareText","href","image","shareType","url","circleID","providerList","computed","isDisableButton","item","id","name","onShareAppMessage","path","imageUrl","success","res","errMsg","that","$request","httpTokenRequest","$api","getDynamicList","get","Key","Client","CLIENT","Version","VERSION","circleId","then","flag","console","log","mescroll","endErr","fail","onUnload","onLoad","option","userInfo","uni","getStorageSync","key","getProvider","service","e","i","provider","length","push","sort","type","x","y","showModal","content","showCancel","methods","share","shareOPtions","scene","complete","summary","miniProgram","webUrl","plus","os","compress","radioChange","detail","value","parseInt","chooseImage","count","sourceType","sizeType","tempFilePaths","err","getSetting","authStatus","authSetting","confirm","openSetting","img","Promise","localPath","io","convertAbsoluteFileSystem","replace","resolveLocalFileSystemURL","entry","file","JSON","stringify","size","zip","compressImage","src","dst","width","height","quality","overwrite","event","newImg","error","message"],"mappings":"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","file":"pages/share/share.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/share/share.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./share.vue?vue&type=template&id=3f8bdc36&scoped=true&\"\nimport script from \"./share.vue?vue&type=script&lang=js&\"\nexport * from \"./share.vue?vue&type=script&lang=js&\"\nimport style0 from \"./share.vue?vue&type=style&index=0&id=3f8bdc36&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f8bdc36\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\Tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('3f8bdc36', component.options)\n    } else {\n      api.reload('3f8bdc36', component.options)\n    }\n    module.hot.accept(\"./share.vue?vue&type=template&id=3f8bdc36&scoped=true&\", function () {\n      api.rerender('3f8bdc36', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Git/wxapp/mini-village/pages/share/share.vue\"\nexport default component.exports","export * from \"-!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./share.vue?vue&type=template&id=3f8bdc36&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./share.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./share.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tlogo: `${this.$env.img1}beauty_icon@2x.png`,\n\t\t\ttitle: 'share',\n\t\t\tshareText: '游遍乡村',\n\t\t\thref:`${this.$env.img1}beauty_icon@2x.png`,\n\t\t\timage: `${this.$env.img1}share_image.png`,\n\t\t\tshareType:2,  // 0-正式版  1-测试版 2-体验版\n\t\t\turl:'',\n\t\t\tcircleID:'',\n\t\t\tproviderList: []\n\t\t}\n\t},\n\tcomputed:{\n\t\tisDisableButton() {\n\t\t\treturn function(item) {\n\t\t\t\tif(this.shareType === 0 && item.id === 'qq'){\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif(this.shareType === 5 && item.name !== '分享到微信好友'){\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\tonShareAppMessage() {\n\t\treturn {\n\t\t\ttitle: this.shareText ? this.shareText : \"欢迎体验uni-app\",\n\t\t\tpath: this.url==''?'/pages/index/index':'/pages/'+this.url,\n\t\t\timageUrl: this.image ? this.image : 'https://img-cdn-qiniu.dcloud.net.cn/uniapp/app/share-logo@3.png',\n\t\t\tsuccess: function(res){\n\t　　　　　　// 转发成功之后的回调\n\t　　　　　　if(res.errMsg == 'shareAppMessage:ok'){\n\t\t\t\t\tlet that =this\n\t\t\t\t\t\tthat.$request.httpTokenRequest(that.$api.getDynamicList, that.$api.get, {\n\t\t\t\t\t\tKey: that.$api.Key,\n\t\t\t\t\t\tClient: that.$api.CLIENT,\n\t\t\t\t\t\tVersion: that.$api.VERSION,\n\t\t\t\t\t\tcircleId:that.circleID\n\t\t\t\t\t}).then((res) => {\n\t\t\t\t\t\tif (res.data.flag === 200) {\n\t\t\t\t\t\t\tconsole.log('分享成功')\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (mescroll) {\n\t\t\t\t\t\t\t\tmescroll.endErr()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t　　　　　　\t}\n\t　　　　},\n\t　　　　fail: function(){\n\t　　　　　　// 转发失败之后的回调\n\t　　　　　　if(res.errMsg == 'shareAppMessage:fail cancel'){\n\t　　　　　　　　// 用户取消转发\n\t　　　　　　}else if(res.errMsg == 'shareAppMessage:fail'){\n\t　　　　　　　　// 转发失败，其中 detail message 为详细失败信息\n\t　　　　　　}\n\t　　　　},\n\t\t}\n\t},\n\tonUnload(){\n\t\tthis.shareText='uni-app可以同时发布成原生App、小程序、H5，邀请你一起体验！',\n\t\tthis.href = 'https://uniapp.dcloud.io',\n\t\tthis.image='';\n\t},\n\tonLoad(option) {\n\t\tthis.userInfo=uni.getStorageSync('userInfo');\n\t\tthis.$api.Key=this.userInfo.key;\n\t\tthis.title = option.title;\n\t\tthis.circleID=option.circleID;\n\t\tthis.url = option.url;\n\t\tuni.getProvider({\n\t\t\tservice: 'share',\n\t\t\tsuccess: (e) => {\n\t\t\t\tconsole.log('success', e);\n\t\t\t\tlet data = []\n\t\t\t\tfor (let i = 0; i < e.provider.length; i++) {\n\t\t\t\t\tswitch (e.provider[i]) {\n\t\t\t\t\t\tcase 'weixin':\n\t\t\t\t\t\t\tdata.push({\n\t\t\t\t\t\t\t\tname: '分享到微信好友',\n\t\t\t\t\t\t\t\tid: 'weixin',\n\t\t\t\t\t\t\t\tsort:0\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tdata.push({\n\t\t\t\t\t\t\t\tname: '分享到微信朋友圈',\n\t\t\t\t\t\t\t\tid: 'weixin',\n\t\t\t\t\t\t\t\ttype:'WXSenceTimeline',\n\t\t\t\t\t\t\t\tsort:1\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'sinaweibo':\n\t\t\t\t\t\t\tdata.push({\n\t\t\t\t\t\t\t\tname: '分享到新浪微博',\n\t\t\t\t\t\t\t\tid: 'sinaweibo',\n\t\t\t\t\t\t\t\tsort:2\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'qq':\n\t\t\t\t\t\t\tdata.push({\n\t\t\t\t\t\t\t\tname: '分享到QQ',\n\t\t\t\t\t\t\t\tid: 'qq',\n\t\t\t\t\t\t\t\tsort:3\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.providerList = data.sort((x,y) => {\n\t\t\t\t\treturn x.sort - y.sort\n\t\t\t\t});\n\t\t\t},\n\t\t\tfail: (e) => {\n\t\t\t\tconsole.log('获取分享通道失败', e);\n\t\t\t\tuni.showModal({\n\t\t\t\t\tcontent:'获取分享通道失败',\n\t\t\t\t\tshowCancel:false\n\t\t\t\t})\n\t\t\t}\n\t\t});\n\t},\n\tmethods: {\n\t\tasync share(e) {\n\t\t\tconsole.log('分享通道:'+ e.id +'； 分享类型:' + this.shareType);\n\n\t\t\tif(!this.shareText && (this.shareType === 1 || this.shareType === 0)){\n\t\t\t\tuni.showModal({\n\t\t\t\t\tcontent:'分享内容不能为空',\n\t\t\t\t\tshowCancel:false\n\t\t\t\t})\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!this.image && (this.shareType === 2 || this.shareType === 0)){\n\t\t\t\tuni.showModal({\n\t\t\t\t\tcontent:'分享图片不能为空',\n\t\t\t\t\tshowCancel:false\n\t\t\t\t})\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet shareOPtions = {\n\t\t\t\tprovider: e.id,\n\t\t\t\tscene: e.type && e.type === 'WXSenceTimeline' ? 'WXSenceTimeline' : 'WXSceneSession', //WXSceneSession”分享到聊天界面，“WXSenceTimeline”分享到朋友圈，“WXSceneFavorite”分享到微信收藏\n\t\t\t\ttype: this.shareType,\n\t\t\t\tsuccess: (e) => {\n\t\t\t\t\tconsole.log('success', e);\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\tcontent: '分享成功',\n\t\t\t\t\t\tshowCancel:false\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tfail: (e) => {\n\t\t\t\t\tconsole.log('fail', e)\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\tcontent: e.errMsg,\n\t\t\t\t\t\tshowCancel:false\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tcomplete:function(){\n\t\t\t\t\tconsole.log('分享操作结束!')\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tswitch (this.shareType){\n\t\t\t\tcase 0:\n\t\t\t\t\tshareOPtions.summary = this.shareText;\n\t\t\t\t\tshareOPtions.imageUrl = this.image;\n\t\t\t\t\tshareOPtions.title = '欢迎体验uniapp';\n\t\t\t\t\tshareOPtions.href = 'https://uniapp.dcloud.io';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 1:\n\t\t\t\t\tshareOPtions.summary = this.shareText;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\t\tshareOPtions.imageUrl = this.image;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 5:\n\t\t\t\t\tshareOPtions.imageUrl = this.image ? this.image : 'https://img-cdn-qiniu.dcloud.net.cn/uniapp/app/share-logo@3.png'\n\t\t\t\t\tshareOPtions.title = '欢迎体验uniapp';\n\t\t\t\t\tshareOPtions.miniProgram = {\n\t\t\t\t\t\tid:'gh_33446d7f7a26',\n\t\t\t\t\t\tpath:'/pages/tabBar/component/component',\n\t\t\t\t\t\twebUrl:'https://uniapp.dcloud.io',\n\t\t\t\t\t\ttype:0\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif(shareOPtions.type === 0 && plus.os.name === 'iOS'){//如果是图文分享，且是ios平台，则压缩图片\n\t\t\t\tshareOPtions.imageUrl = await this.compress();\n\t\t\t}\n\t\t\tif(shareOPtions.type === 1 && shareOPtions.provider === 'qq'){//如果是分享文字到qq，则必须加上href和title\n\t\t\t\tshareOPtions.href = 'https://uniapp.dcloud.io';\n\t\t\t\tshareOPtions.title = '欢迎体验uniapp';\n\t\t\t}\n\t\t\tuni.share(shareOPtions);\n\t\t},\n\t\tradioChange(e){\n\t\t\tconsole.log('type:' + e.detail.value);\n\t\t\tthis.shareType = parseInt(e.detail.value);\n\t\t},\n\t\tchooseImage() {\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: 1,\n\t\t\t\tsourceType: ['album', 'camera'],\n\t\t\t\tsizeType: ['compressed', 'original'],\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tthis.image = res.tempFilePaths[0];\n\t\t\t\t},\n\t\t\t\tfail: (err) => {\n\n\t\t\t\t\tuni.getSetting({\n\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\tlet authStatus = res.authSetting['scope.album'] && res.authSetting['scope.camera'];\n\t\t\t\t\t\t\tif (!authStatus) {\n\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\ttitle: '授权失败',\n\t\t\t\t\t\t\t\t\tcontent: 'Hello uni-app需要从您的相机或相册获取图片，请在设置界面打开相关权限',\n\t\t\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\t\t\tuni.openSetting()\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tcompress(){//压缩图片 图文分享要求分享图片大小不能超过20Kb\n\t\t\tconsole.log('开始压缩');\n\t\t\tlet img = this.image;\n\t\t\treturn new Promise((res) => {\n\t\t\t\tvar localPath = plus.io.convertAbsoluteFileSystem(img.replace('file://', ''));\n\t\t\t\tconsole.log('after' + localPath);\n\t\t\t\t// 压缩size\n\t\t\t\tplus.io.resolveLocalFileSystemURL(localPath, (entry) => {\n\t\t\t\t\tentry.file((file) => {// 可通过entry对象操作图片\n\t\t\t\t\t\tconsole.log('getFile:' + JSON.stringify(file));\n\t\t\t\t\t\tif(file.size > 20480) {// 压缩后size 大于20Kb\n\t\t\t\t\t\t\tplus.zip.compressImage({\n\t\t\t\t\t\t\t\tsrc: img,\n\t\t\t\t\t\t\t\tdst: img.replace('.jpg', '2222.jpg').replace('.JPG', '2222.JPG'),\n\t\t\t\t\t\t\t\twidth: '10%',\n\t\t\t\t\t\t\t\theight: '10%',\n\t\t\t\t\t\t\t\tquality: 1,\n\t\t\t\t\t\t\t\toverwrite: true\n\t\t\t\t\t\t\t}, (event) => {\n\t\t\t\t\t\t\t\tconsole.log('success zip****' + event.size);\n\t\t\t\t\t\t\t\tlet newImg = img.replace('.jpg', '2222.jpg').replace('.JPG', '2222.JPG');\n\t\t\t\t\t\t\t\tres(newImg);\n\t\t\t\t\t\t\t}, function(error) {\n\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\tcontent:'分享图片太大,需要请重新选择图片!',\n\t\t\t\t\t\t\t\t\tshowCancel:false\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}, (e) => {\n\t\t\t\t\tconsole.log('Resolve file URL failed: ' + e.message);\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\tcontent:'分享图片太大,需要请重新选择图片!',\n\t\t\t\t\t\tshowCancel:false\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t})\n\t\t}\n\t}\n}\n","import mod from \"-!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-1!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--10-oneOf-1-2!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./share.vue?vue&type=style&index=0&id=3f8bdc36&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-1!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--10-oneOf-1-2!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../Tools/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./share.vue?vue&type=style&index=0&id=3f8bdc36&lang=less&scoped=true&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}